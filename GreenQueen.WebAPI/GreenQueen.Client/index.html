<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>GreenQueen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Gloria+Hallelujah|Indie+Flower|Lobster|Mr+Dafoe|Pacifico|Shadows+Into+Light|VT323" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <link rel="stylesheet" type="text/css" href="diseño.css">
</head>
<body>
    <div id="cabecera" class="container nav nav-tabs">
        <div class="col-sm-4">
            <a href="#votos"><button type="button" class="btn btn-success">Discos más votados</button></a>
        </div>
        <div class="col-sm-4">
            <a href="#listado">
                <svg id="logo" width="8cm" height="5cm" viewBox="0 0 1000 300" xmlns="http://www.w3.org/2000/svg" version="1.1">
                    <!--<path class="SamplePath" d="M120,200 C100,100 250,100 250,200 S400,300 400,200" />  -->
                    <g>
                        <path class="SamplePath" d="M140,200 C140,100 270,100 270,200" />
                        <path class="SamplePath rotate180" d="M140,100 C140,0 310,0 310,100"></path>
                        <path class="SamplePath" d="M100,200 C100,100 200,100 200,-50"></path>
                        <path class="SamplePath" d="M200,-49 C200,-150 130,-150 145,-49"></path>
                        <line x1="145" y1="-51" x2="225" y2="330"></line>
                        <!-- <path class="SamplePath rotate170" d="M140,100 C140,0 310,0 310,100"></path> -->
                        <path class="SamplePath rotate170" d="M140,50 C140,0 200,0 200,50"></path>
                        <circle cx="140" cy="201" r="10"></circle>
                        <circle cx="166" cy="342" r="10"></circle>

                        <text x="290" y="250">reen Queen</text>
                    </g>
                </svg>
            </a>
        </div>
        <div class="col-sm-4">
            <a href="#login"><button type="button" class="btn btn-default">Login</button></a>
            <a href="#registro"><button type="button" class="btn btn-default">Registrate</button></a>
        </div>
    </div>

    <div id="contenido" class="container tab-content">
        <div class="parallax"></div> <!-- Imagen -->

        <div id="listado" class="tab-pane fade in active">
        </div>

        <div id="votos" class="tab-pane fade">
            <h2>Los 5 mejores discos de La Tierra<span class="glyphicon glyphicon-globe"></span></h2>
            <div id="mostrarVotos"></div>
        </div>

        <div id="registro" class="tab-pane fade">
            <h2>Registro</h2>
            <form class="form-horizontal">
                <div class="datos">
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="user"><span class="glyphicon glyphicon-user"></span></label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="user" placeholder="Usuario">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="email"><span class="glyphicon glyphicon-envelope"></span></label>
                        <div class="col-sm-10">
                            <input type="email" class="form-control" id="email" placeholder="Correo">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="fechaNac"><span class="glyphicon glyphicon-calendar"></span></label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="fechaNac" placeholder="Fecha de nacimiento">
                        </div>
                    </div>
                </div>
                <div class="datos">
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="password"><span class="glyphicon glyphicon-asterisk"></span></label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="password" placeholder="Contraseña">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="confirmPassword"><span class="glyphicon glyphicon-asterisk"></span></label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="confirmPassword" placeholder="Confirmar contraseña">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-1" for="fechaRegist"><span class="glyphicon glyphicon-calendar"></span></label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="fechaRegist" placeholder="Fecha de registro">
                        </div>
                    </div>
                </div>
                <div id="prueba3" class="form-group">
                    <div class="col-sm-10">
                        <button type="submit" class="btn btn-success">Aceptar</button>
                        <button type="submit" class="btn btn-danger">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>

        <div id="login" class="tab-pane fade">
            <h2>Login</h2>
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-sm-2" for="nombre"><span class="glyphicon glyphicon-user"></span></label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="nombre" placeholder="Usuario">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="contrasenia"><span class="glyphicon glyphicon-asterisk"></span></label>
                    <div class="col-sm-4">
                        <input type="password" class="form-control" id="contrasenia" placeholder="Contraseña" readonly>
                        <div id="teclado"></div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-success">Aceptar</button>
                        <button type="submit" class="btn btn-danger">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>

    </div>

    <div class="footer img-map">
        <img src="social2.png" alt="Redes sociales" />

        <ul class="urls">
            <li id="url-facebook"><a href="https://www.facebook.com/jovenorquestadecanarias/?fref=ts">Facebook</a></li>
            <li id="url-instagram"><a href="https://www.instagram.com/adele/">Instragram</a></li>
            <li id="url-linkedin"><a href="https://es.linkedin.com/">LinkedIn</a></li>
            <li id="url-mail"><a href="">Correo</a></li>
            <li id="url-phone"><a href="">Teléfono</a></li>
        </ul>
    </div>

    <script src="./bundle.js"></script>
    <script>       
      $(document).ready(function()
      {
        $(".nav-tabs a").click(function(){
            $(this).tab('show');
        });

        var teclado = $("#teclado");
        for (var contador = 0; contador <= 9; contador++)
        {
            var boton = $("<button class='btn btn-default' onclick='escribirClave(this)'></button>").text(contador);
            $(teclado).append(boton);
        }

        //RECOGE LOS 5 MEJORES DISCOS Y HACE LA GRÁFICA:
        var divVotos = $("#mostrarVotos");
        
          //"method": "GET",
        $.ajax({
            "url": "http://localhost:50150/api/Discos/MejoresDiscos",
            "type": "get",
            "dataType": "json",
            "success": function (discos) {
                google.charts.load('current', { packages: ['corechart'] });
                google.charts.setOnLoadCallback(drawChart);

                var discosData = [];

                $.each(discos, function (i, disco) {
                    console.log(disco.Titulo);
                    discosData.push([disco.Titulo, disco.Puntuacion]); //, "#009933"
                });

                function drawChart() {
                    var data = google.visualization.arrayToDataTable([
                        ['Disco', 'Puntuación'], //, { role: 'style' }
                        discosData[0],
                        discosData[1],
                        discosData[2],
                        discosData[3],
                        discosData[4]
                    ]);

                    var view = new google.visualization.DataView(data);

                    var options = {
                        width: 1000,
                        height: 370,
                        bar: { groupWidth: "35%" },
                        legend: { position: "none" },
                        hAxis: {
                            minValue: 0,
                            ticks: [0, 2, 4, 6, 8, 10]
                        },
                        backgroundColor: "#ccccff"
                    };

                    var chart = new google.visualization.BarChart(document.getElementById("mostrarVotos"));
                    chart.draw(view, options);
                }
                
            }
        });

      });

      function escribirClave(contenido)
      {
          var valorBoton = $(contenido).text();
          $("#contrasenia").val(valorBoton);
      }

        //OCULTAR LISTA DE DISCOS, INTERPRETES O GÉNEROS EN MÓVILES
        //Y MOSTRARLAS SÓLO CUANDO SE HACE CLICK EN EL "TITULO":
      $(window).resize(function () {          
          if ($(window).width() <= 480) {
              $(".title").each(function () {
                  $(this).next().hide();
              });
              var mostrando = null;
              $(".title").on("click", function() {
                  if (mostrando != null) {
                      mostrando.hide();
                  }
                  $(this).next().show();
                  mostrando = $(this).next();
              });
          } else {
              //DESACTIVAR EL EVENTO ON CLICK CUANDO NO SON MÓVILES Y MOSTRAR TODAS LAS LISTAS:
              $(".title").off("click");
              $(".title").each(function () {
                  $(this).next().show();
              });
          }
      });
      

    </script>
</body>
</html>